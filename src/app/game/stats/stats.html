<div class="space-y-6">
  <div class="card bg-base-100 shadow-xl">
    <div class="card-body">
      <h2 class="card-title mb-6">📊 Statistics & Analytics</h2>

      <!-- Overview Stats -->
      <div class="mb-8">
        <h3 class="font-bold text-lg mb-4">📈 Overview</h3>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
          <div *ngFor="let stat of overviewStats" class="stat bg-base-200 rounded-lg">
            <div class="stat-figure {{ stat.color }}">
              <span class="text-3xl">{{ stat.icon }}</span>
            </div>
            <div class="stat-title">{{ stat.title }}</div>
            <div class="stat-value {{ stat.color }}">{{ stat.value }}</div>
            <div class="stat-desc">{{ stat.description }}</div>
          </div>
        </div>
      </div>

      <!-- Interaction Stats -->
      <div class="mb-8">
        <h3 class="font-bold text-lg mb-4">💬 Interaction Analysis</h3>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
          <div *ngFor="let stat of interactionStats" class="stat bg-base-200 rounded-lg">
            <div class="stat-figure {{ stat.color }}">
              <span class="text-3xl">{{ stat.icon }}</span>
            </div>
            <div class="stat-title">{{ stat.title }}</div>
            <div class="stat-value {{ stat.color }}">{{ stat.value }}</div>
            <div class="stat-desc">{{ stat.description }}</div>
          </div>
        </div>
      </div>

      <!-- Date Stats -->
      <div class="mb-8">
        <h3 class="font-bold text-lg mb-4">📅 Date Analytics</h3>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
          <div *ngFor="let stat of dateStats" class="stat bg-base-200 rounded-lg">
            <div class="stat-figure {{ stat.color }}">
              <span class="text-3xl">{{ stat.icon }}</span>
            </div>
            <div class="stat-title">{{ stat.title }}</div>
            <div class="stat-value {{ stat.color }}">{{ stat.value }}</div>
            <div class="stat-desc">{{ stat.description }}</div>
          </div>
        </div>
      </div>

      <!-- Pickup Line Stats -->
      <div class="mb-8">
        <h3 class="font-bold text-lg mb-4">💬 Pickup Line Performance</h3>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
          <div *ngFor="let stat of pickupLineStats" class="stat bg-base-200 rounded-lg">
            <div class="stat-figure {{ stat.color }}">
              <span class="text-3xl">{{ stat.icon }}</span>
            </div>
            <div class="stat-title">{{ stat.title }}</div>
            <div class="stat-value {{ stat.color }}">{{ stat.value }}</div>
            <div class="stat-desc">{{ stat.description }}</div>
          </div>
        </div>
      </div>

      <!-- Male Profile Stats -->
      <div *ngIf="maleProfileStats.length > 0" class="mb-8">
        <h3 class="font-bold text-lg mb-4">🤵 Self-Assessment Stats</h3>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
          <div *ngFor="let stat of maleProfileStats" class="stat bg-base-200 rounded-lg">
            <div class="stat-figure {{ stat.color }}">
              <span class="text-3xl">{{ stat.icon }}</span>
            </div>
            <div class="stat-title">{{ stat.title }}</div>
            <div class="stat-value {{ stat.color }}">{{ stat.value }}</div>
            <div class="stat-desc">{{ stat.description }}</div>
          </div>
        </div>
      </div>

      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- Top Girls -->
        <div *ngIf="topGirls.length > 0">
          <h3 class="font-bold text-lg mb-4">🏆 Top Performers</h3>
          <div class="card bg-base-200">
            <div class="card-body">
              <div class="space-y-3">
                <div *ngFor="let girl of topGirls; let i = index" class="flex items-center justify-between p-3 rounded-lg bg-base-100">
                  <div class="flex items-center gap-3">
                    <div class="text-2xl font-bold text-primary">#{{ i + 1 }}</div>
                    <div class="text-2xl">{{ girl.avatar }}</div>
                    <div>
                      <div class="font-bold">{{ girl.name }}</div>
                      <div class="text-sm opacity-70">{{ girl.interactions?.length || 0 }} interactions</div>
                    </div>
                  </div>
                  <div class="text-right">
                    <div class="font-bold text-lg" [ngClass]="(girl.totalPoints || 0) >= 0 ? 'text-success' : 'text-error'">
                      {{ (girl.totalPoints || 0) >= 0 ? '+' : '' }}{{ girl.totalPoints || 0 }}
                    </div>
                    <div class="text-sm opacity-70">points</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Interaction Trends -->
        <div *ngIf="interactionTrends.length > 0">
          <h3 class="font-bold text-lg mb-4">📊 Interaction Types</h3>
          <div class="card bg-base-200">
            <div class="card-body">
              <div class="space-y-3">
                <div *ngFor="let trend of interactionTrends" class="flex items-center justify-between">
                  <div class="flex items-center gap-3 flex-1">
                    <div class="w-4 h-4 rounded" [style.background-color]="trend.color"></div>
                    <span class="font-medium">{{ trend.label }}</span>
                  </div>
                  <div class="flex items-center gap-2">
                    <div class="w-32 bg-base-300 rounded-full h-2">
                      <div class="h-2 rounded-full" 
                           [style.background-color]="trend.color"
                           [style.width.%]="(trend.value / interactionTrends[0].value) * 100">
                      </div>
                    </div>
                    <span class="font-bold w-8 text-right">{{ trend.value }}</span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Recent Activity -->
      <div *ngIf="recentActivity.length > 0" class="mt-8">
        <h3 class="font-bold text-lg mb-4">🕒 Recent Activity</h3>
        <div class="card bg-base-200">
          <div class="card-body">
            <div class="space-y-2 max-h-80 overflow-y-auto">
              <div *ngFor="let activity of recentActivity" class="flex items-center justify-between p-3 rounded-lg bg-base-100 hover:bg-base-300 transition-colors">
                <div class="flex items-center gap-3">
                  <span class="text-2xl">{{ getActivityIcon(activity) }}</span>
                  <div>
                    <div class="font-medium">
                      {{ activity.type === 'interaction' ? activity.type : activity.title }}
                      <span *ngIf="activity.girlName" class="text-sm opacity-70">with {{ activity.girlName }}</span>
                    </div>
                    <div class="text-sm opacity-70">
                      {{ activity.type === 'interaction' ? activity.description : activity.description }}
                    </div>
                    <div class="text-xs opacity-50">{{ formatDate(activity.date) }}</div>
                  </div>
                </div>
                <div class="text-right">
                  <div *ngIf="activity.type === 'interaction'" class="font-bold {{ getActivityColor(activity) }}">
                    {{ activity.points >= 0 ? '+' : '' }}{{ activity.points }}
                  </div>
                  <div *ngIf="activity.type === 'date'" class="badge badge-sm" 
                       [ngClass]="activity.status === 'completed' ? 'badge-success' : 'badge-info'">
                    {{ activity.status }}
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- No Data State -->
      <div *ngIf="girls.length === 0" class="text-center py-8">
        <div class="text-6xl mb-4">📊</div>
        <h3 class="font-bold text-xl mb-2">No Data Available</h3>
        <p class="text-lg opacity-60 mb-4">Start adding girls and tracking interactions to see your stats</p>
        <div class="space-y-2 text-sm opacity-40">
          <p>• Add girls to your network</p>
          <p>• Record interactions and earn points</p>
          <p>• Plan and complete dates</p>
          <p>• Track pickup line effectiveness</p>
        </div>
      </div>
    </div>
  </div>
</div>
